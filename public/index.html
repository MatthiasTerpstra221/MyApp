<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="HubSpot Onboarding Calculator by Leapforce - Calculate your HubSpot onboarding package"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>HubSpot Onboarding Calculator | Leapforce</title>

    <!-- HubSpot Form Script -->
    <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/embed/v2.js"></script>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>

    <!-- HubSpot Form Integration Script -->
    <script>
      window.addEventListener('load', function() {
        // Initialize HubSpot Form
        hbspt.forms.create({
          region: "na1",
          portalId: "7208949",
          formId: "YOUR_FORM_ID",
          target: "#699d6d6a-52b4-4439-b6ea-2584491b8baa",
          onFormReady: function($form) {
            // Create hidden field if it doesn't exist
            if (!$form.querySelector('input[name="hubspot_standard_onboarding_key"]')) {
              const input = document.createElement('input');
              input.type = 'hidden';
              input.name = 'hubspot_standard_onboarding_key';
              $form.appendChild(input);
            }
          }
        });
      });

      // Listen for HubSpot form events
      window.addEventListener('message', event => {
        if (event.data.type === 'hsFormCallback' && event.data.eventName === 'onFormReady') {
          const form = document.querySelector('form.hs-form');
          if (form) {
            // Create hidden field if it doesn't exist
            if (!form.querySelector('input[name="hubspot_standard_onboarding_key"]')) {
              const input = document.createElement('input');
              input.type = 'hidden';
              input.name = 'hubspot_standard_onboarding_key';
              form.appendChild(input);
            }
          }
        }
      });

      // Handle form submission
      window.addEventListener('message', event => {
        if (event.data.type === 'hsFormCallback' && event.data.eventName === 'onFormSubmit') {
          // You can add any additional handling here
          console.log('Form submitted with package keys:', 
            document.querySelector('input[name="hubspot_standard_onboarding_key"]')?.value
          );
        }
      });
    </script>

    <!-- HubSpot Tracking Code -->
<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/7208949.js"></script>
<!-- End of HubSpot Embed Code -->    <script type="text/javascript" id="hs-script-loader" async defer src="//js.hsforms.net/forms/v2.js"></script>
  </body>
</html>
