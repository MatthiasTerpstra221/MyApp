<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#000000">
  <meta name="description" content="HubSpot Onboarding Calculator by Leapforce - Calculate your HubSpot onboarding package">
  <link rel="icon" href="favicon.ico">
  <title>HubSpot Onboarding Calculator | Leapforce</title>
  <style>
    /* CSS Variables for consistency */
    :root {
      --primary: #007A8C;
      --primary-dark: #00636F;
      --primary-light: #33919E;
      --gray-50: #f9fafb;
      --gray-100: #f3f4f6;
      --gray-200: #e5e7eb;
      --gray-300: #d1d5db;
      --gray-400: #9ca3af;
      --gray-500: #6b7280;
      --gray-600: #4b5563;
      --gray-700: #374151;
      --gray-800: #1f2937;
      --gray-900: #111827;
      --max-width: 1200px;
      --border-radius: 0.5rem;
      --box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --transition: all 0.3s ease;
    }
    
    /* Base styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      line-height: 1.6;
      color: var(--gray-800);
      background-color: var(--gray-100);
    }
    
    /* Base styling */
    body, html {
      margin: 0;
      padding: 0;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }
    
    /* Navigation */
    .navbar {
      background-color: white;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .navbar-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 0;
    }
    .navbar-logo img {
      height: 40px;
    }
    .navbar-menu {
      display: flex;
      gap: 1.5rem;
    }
    .navbar-menu a {
      color: var(--gray-700);
      text-decoration: none;
      font-weight: 500;
    }
    .navbar-menu a:hover {
      color: var(--primary);
    }
    
    /* Hero Section */
    .hero {
      background-color: white;
      padding: 4rem 0;
      text-align: center;
    }
    .hero h1 {
      font-size: 2.5rem;
      color: var(--gray-800);
      margin-bottom: 1rem;
    }
    .hero p {
      font-size: 1.25rem;
      color: var(--gray-600);
      max-width: 700px;
      margin: 0 auto;
    }
    
    /* Cards and Sections */
    .card {
      background-color: white;
      border-radius: 0.5rem;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      padding: 2rem;
      margin-bottom: 2rem;
    }
    .section-title {
      color: var(--primary);
      font-size: 1.75rem;
      margin-bottom: 1.5rem;
      text-align: center;
    }
    
    /* Buttons */
    .btn {
      display: inline-block;
      background-color: var(--primary);
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: 0.375rem;
      text-decoration: none;
      font-weight: 500;
      text-align: center;
      border: none;
      cursor: pointer;
      transition: background-color 0.2s;
    }
    .btn:hover {
      background-color: var(--primary-dark);
    }
    .btn-secondary {
      background-color: white;
      color: var(--primary);
      border: 1px solid var(--primary);
    }
    .btn-secondary:hover {
      background-color: var(--gray-50);
    }
    
    /* Utility classes */
    .text-center {
      text-align: center;
    }
    .mt-4 {
      margin-top: 1rem;
    }
    .mt-8 {
      margin-top: 2rem;
    }
    .mb-4 {
      margin-bottom: 1rem;
    }
    .mb-8 {
      margin-bottom: 2rem;
    }
    
    /* Footer */
    .footer {
      background-color: #1f2937;
      color: white;
      padding: 3rem 0;
    }
    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
    }
    .footer-column h3 {
      font-size: 1.25rem;
      margin-bottom: 1rem;
      color: white;
    }
    .footer-column ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .footer-column ul li {
      margin-bottom: 0.5rem;
    }
    .footer-column a {
      color: #d1d5db;
      text-decoration: none;
    }
    .footer-column a:hover {
      color: white;
      text-decoration: underline;
    }
    .footer-bottom {
      border-top: 1px solid #374151;
      margin-top: 2rem;
      padding-top: 2rem;
      text-align: center;
      font-size: 0.875rem;
      color: #9ca3af;
    }
    
    /* Mobile responsiveness */
    @media (max-width: 768px) {
      .navbar-menu {
        display: none;
      }
      
      .mobile-menu-button {
        display: block !important;
      }
      
      .mobile-menu {
        display: block;
        position: fixed;
        top: 60px;
        left: 0;
        right: 0;
        background-color: white;
        padding: 1rem;
        box-shadow: var(--box-shadow);
        transform: translateY(-100%);
        transition: transform 0.3s ease;
        z-index: 1000;
      }
      
      .mobile-menu.active {
        transform: translateY(0);
      }
      
      .mobile-menu a {
        display: block;
      padding: 0.75rem 0;
        color: var(--gray-800);
        text-decoration: none;
        border-bottom: 1px solid var(--gray-200);
      }
      
      .selection-grid {
        grid-template-columns: 1fr !important;
      }
      
      .hero h1 {
        font-size: 2rem;
      }
      
      .hero p {
        font-size: 1rem;
      }
      
      .card {
        padding: 1.5rem;
      }
      
      .social-proof {
        gap: 1rem !important;
      }
      
      .social-proof > div {
        flex-basis: 30%;
      }
      
      .btn {
        width: 100%;
      margin-bottom: 0.5rem;
      }
      
      .results-highlight {
        font-size: 1.75rem !important;
      }
    }
    
    /* Step indicator styles */
    .step-indicator {
      margin: 2rem 0;
    }
    
    .steps-container {
      display: flex;
      justify-content: space-between;
      max-width: 800px;
      margin: 0 auto;
      position: relative;
    }
    
    .steps-container::before {
      content: '';
      position: absolute;
      top: 30px;
      left: 10%;
      right: 10%;
      height: 2px;
      background-color: var(--gray-300);
      z-index: 1;
    }
    
    .step {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      z-index: 2;
    }
    
    .step-number {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background-color: white;
      border: 2px solid var(--gray-300);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      margin-bottom: 0.5rem;
      transition: all 0.3s ease;
    }
    
    .step-text {
      font-size: 0.9rem;
      color: var(--gray-600);
      text-align: center;
      transition: all 0.3s ease;
    }
    
    .step.active .step-number {
      background-color: var(--primary);
      border-color: var(--primary);
      color: white;
    }
    
    .step.active .step-text {
      color: var(--primary);
      font-weight: 600;
    }
    
    .step.completed .step-number {
      background-color: var(--primary);
      border-color: var(--primary);
      color: white;
    }
    
    .step.completed .step-number::after {
      content: '✓';
      position: absolute;
      font-size: 0.8rem;
    }
    
    /* Button outline style */
    .btn-outline {
      background-color: transparent;
      color: var(--primary);
      border: 1px solid var(--primary);
      transition: all 0.2s;
    }
    
    .btn-outline:hover {
      background-color: var(--gray-50);
    }
    
    /* Card style for tier information */
    .tier-card {
      border: 1px solid var(--gray-200);
      border-radius: 0.375rem;
      padding: 1rem;
      margin: 1rem 0;
      background-color: var(--gray-50);
    }
    
    /* Calculator steps styles */
    .calculator-step {
      display: none;
    }
    
    .calculator-step.active {
      display: block;
    }
    
    .navigation-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 2rem;
    }
    
    @media (max-width: 768px) {
      .steps-container::before {
        left: 15%;
        right: 15%;
      }
      
      .step-text {
        font-size: 0.7rem;
      }
    }
    
    .results-highlight {
      text-align: center;
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--primary);
      margin: 1.5rem 0;
    }
  </style>
</head>
<body>
  <!-- Navigation Bar -->
  <nav class="navbar">
    <div class="container navbar-content">
      <div class="navbar-logo">
        <a href="https://www.leapforce.nl" target="_blank" rel="noopener" aria-label="Leapforce homepage">
          <img src="https://www.leapforce.nl/wp-content/uploads/2022/09/LeapForce-logo.svg" alt="Leapforce Logo" onerror="this.onerror=null; this.src='https://www.leapforce.nl/wp-content/uploads/2022/09/LeapForce-logo.png';">
        </a>
      </div>
      <div class="navbar-menu">
        <a href="#calculator">Calculator</a>
        <a href="#about">About Hubs</a>
        <a href="#reviews">Reviews</a>
        <a href="https://www.leapforce.nl/contact/" target="_blank">Contact</a>
      </div>
      <button class="mobile-menu-button" aria-label="Toggle mobile menu" style="display: none; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
    </div>
  </nav>
  
  <!-- Mobile Menu (hidden by default) -->
  <div class="mobile-menu" id="mobile-menu">
    <a href="#calculator">Calculator</a>
    <a href="#about">About Hubs</a>
    <a href="#reviews">Reviews</a>
    <a href="https://www.leapforce.nl/contact/" target="_blank">Contact</a>
  </div>
  
  <!-- Hero Section -->
  <section class="hero">
  <div class="container">
      <div style="display: flex; justify-content: center; margin-bottom: 2rem;">
        <img src="https://www.leapforce.nl/wp-content/uploads/2022/12/platinum-badge-color-300x297.png" alt="HubSpot Platinum Solutions Partner" style="height: 80px; margin-right: 1rem;" onerror="this.onerror=null; this.style.display='none';">
        <div style="text-align: left; display: flex; flex-direction: column; justify-content: center;">
      <h1>HubSpot Onboarding Calculator</h1>
          <p>Find the perfect HubSpot onboarding package for your business needs</p>
    </div>
      </div>
      <a href="https://www.hubspot.com/agencies/leapforce" target="_blank" rel="noopener" class="btn btn-secondary" aria-label="Visit the Leapforce HubSpot Partner Page">Visit Our HubSpot Partner Page</a>
    </div>
  </section>
  
  <!-- Main Content -->
  <div class="content-container">
    <!-- Calculator Section -->
    <div class="card" id="calculator">
      <h2 class="section-title">Calculate Your HubSpot Onboarding Package</h2>
      
      <!-- Step indicator -->
      <div class="step-indicator mb-4">
        <div class="steps-container">
          <div class="step active" data-step="1">
            <div class="step-number">1</div>
            <div class="step-text">Select Hub(s)</div>
          </div>
          <div class="step" data-step="2">
            <div class="step-number">2</div>
            <div class="step-text">Select Tier(s)</div>
          </div>
          <div class="step" data-step="3">
            <div class="step-number">3</div>
            <div class="step-text">Service Model</div>
          </div>
          <div class="step" data-step="4">
            <div class="step-number">4</div>
            <div class="step-text">Results</div>
          </div>
        </div>
      </div>
      
      <div class="benefits-box mb-4">
        <p class="text-center" style="font-size: 1.1rem; margin-bottom: 0.5rem;">Follow these steps to get a personalized onboarding package for your business:</p>
      </div>
      
      <!-- Selection Form -->
      <div id="selection-form">
        <!-- Step 1: Hubs Selection -->
        <div id="step-1" class="calculator-step active">
          <div class="selection-section mb-8">
            <h3 class="text-center mb-4">Select HubSpot Hub(s)</h3>
            <div class="selection-grid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
              <div class="selection-card" data-hub="marketing">
                <input type="checkbox" id="marketing-hub" name="hub" value="marketing" class="hub-checkbox">
                <label for="marketing-hub" class="selection-label">
                  <h4>Marketing Hub</h4>
                  <p>Attract visitors, convert leads, and run complete marketing campaigns at scale</p>
                </label>
              </div>
              
              <div class="selection-card" data-hub="sales">
                <input type="checkbox" id="sales-hub" name="hub" value="sales" class="hub-checkbox">
                <label for="sales-hub" class="selection-label">
                  <h4>Sales Hub</h4>
                  <p>Close more deals, deepen relationships, and manage your pipeline more effectively</p>
                </label>
              </div>
              
              <div class="selection-card" data-hub="service">
                <input type="checkbox" id="service-hub" name="hub" value="service" class="hub-checkbox">
                <label for="service-hub" class="selection-label">
                  <h4>Service Hub</h4>
                  <p>Connect with customers, exceed expectations, and turn customers into promoters</p>
                </label>
              </div>
            </div>
          </div>
          
          <div class="navigation-buttons">
            <div></div>
            <button id="step-1-next" class="btn">Next: Select Tier(s)</button>
          </div>
        </div>
        
        <!-- Step 2: Tier Selection -->
        <div id="step-2" class="calculator-step">
          <div id="tier-sections-container">
            <!-- Marketing Hub Tier Section (Conditionally Shown) -->
            <div id="marketing-tier-section" class="tier-section mb-8" style="display: none;">
              <h3 class="text-center mb-4">Select Marketing Hub Tier</h3>
              <div class="selection-grid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                <div class="selection-card" data-tier="starter">
                  <input type="radio" id="marketing-starter" name="marketing_tier" value="Starter" class="tier-radio">
                  <label for="marketing-starter" class="selection-label">
                    <h4>Starter</h4>
                    <p>Essential marketing tools to get your inbound strategy started</p>
                  </label>
                </div>
                
                <div class="selection-card" data-tier="professional">
                  <input type="radio" id="marketing-professional" name="marketing_tier" value="Professional" class="tier-radio">
                  <label for="marketing-professional" class="selection-label">
                    <h4>Professional</h4>
                    <p>Advanced marketing automation and campaign management tools</p>
                  </label>
                </div>
                
                <div class="selection-card" data-tier="enterprise">
                  <input type="radio" id="marketing-enterprise" name="marketing_tier" value="Enterprise" class="tier-radio">
                  <label for="marketing-enterprise" class="selection-label">
                    <h4>Enterprise</h4>
                    <p>Sophisticated marketing tools with advanced features and customization</p>
                  </label>
                </div>
              </div>
            </div>
            
            <!-- Sales Hub Tier Section (Conditionally Shown) -->
            <div id="sales-tier-section" class="tier-section mb-8" style="display: none;">
              <h3 class="text-center mb-4">Select Sales Hub Tier</h3>
              <div class="selection-grid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                <div class="selection-card" data-tier="starter">
                  <input type="radio" id="sales-starter" name="sales_tier" value="Starter" class="tier-radio">
                  <label for="sales-starter" class="selection-label">
                    <h4>Starter</h4>
                    <p>Essential sales CRM tools for small teams</p>
                  </label>
                </div>
                
                <div class="selection-card" data-tier="professional">
                  <input type="radio" id="sales-professional" name="sales_tier" value="Professional" class="tier-radio">
                  <label for="sales-professional" class="selection-label">
                    <h4>Professional</h4>
                    <p>Advanced sales automation and analytics tools</p>
                  </label>
                </div>
                
                <div class="selection-card" data-tier="enterprise">
                  <input type="radio" id="sales-enterprise" name="sales_tier" value="Enterprise" class="tier-radio">
                  <label for="sales-enterprise" class="selection-label">
                    <h4>Enterprise</h4>
                    <p>Powerful sales tools with advanced reporting and customization</p>
                  </label>
                </div>
              </div>
            </div>
            
            <!-- Service Hub Tier Section (Conditionally Shown) -->
            <div id="service-tier-section" class="tier-section mb-8" style="display: none;">
              <h3 class="text-center mb-4">Select Service Hub Tier</h3>
              <div class="selection-grid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                <div class="selection-card" data-tier="starter">
                  <input type="radio" id="service-starter" name="service_tier" value="Starter" class="tier-radio">
                  <label for="service-starter" class="selection-label">
                    <h4>Starter</h4>
                    <p>Essential customer service tools for small teams</p>
                  </label>
                </div>
                
                <div class="selection-card" data-tier="professional">
                  <input type="radio" id="service-professional" name="service_tier" value="Professional" class="tier-radio">
                  <label for="service-professional" class="selection-label">
                    <h4>Professional</h4>
                    <p>Advanced automation and customer feedback tools</p>
                  </label>
                </div>
                
                <div class="selection-card" data-tier="enterprise">
                  <input type="radio" id="service-enterprise" name="service_tier" value="Enterprise" class="tier-radio">
                  <label for="service-enterprise" class="selection-label">
                    <h4>Enterprise</h4>
                    <p>Comprehensive service tools with advanced customization</p>
                  </label>
                </div>
              </div>
            </div>
          </div>
          
          <div class="navigation-buttons">
            <button id="step-2-back" class="btn btn-secondary">Back</button>
            <button id="step-2-next" class="btn">Next: Select Service Model</button>
          </div>
        </div>
        
        <!-- Step 3: Service Model Selection -->
        <div id="step-3" class="calculator-step">
          <div class="selection-section mb-8">
            <h3 class="text-center mb-4">Select Service Model</h3>
            <div class="selection-grid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
              <div class="selection-card" data-model="diy">
                <input type="radio" id="service-diy" name="service_model" value="Do It Yourself" class="model-radio" checked>
                <label for="service-diy" class="selection-label">
                  <h4>Do It Yourself</h4>
                  <p>We guide you through the process, providing expertise and advice, while you handle the implementation</p>
                </label>
              </div>
              
              <div class="selection-card" data-model="diwm">
                <input type="radio" id="service-diwm" name="service_model" value="Do It With Me" class="model-radio">
                <label for="service-diwm" class="selection-label">
                  <h4>Do It With Me</h4>
                  <p>A collaborative approach where we work together on implementation</p>
                </label>
              </div>
              
              <div class="selection-card" data-model="difm">
                <input type="radio" id="service-difm" name="service_model" value="Do It For Me" class="model-radio">
                <label for="service-difm" class="selection-label">
                  <h4>Do It For Me</h4>
                  <p>We handle the entire implementation for you, from setup to optimization</p>
                </label>
              </div>
            </div>
          </div>
          
          <div class="navigation-buttons">
            <button id="step-3-back" class="btn btn-secondary">Back</button>
            <button id="calculate-button" class="btn">View My Package</button>
          </div>
        </div>
      </div>
      
      <!-- Results Section (step 4, hidden initially) -->
      <div id="step-4" class="calculator-step">
        <h3 class="mt-4 mb-4">Your HubSpot Onboarding Package</h3>
        <p>Based on your selections, here is your detailed HubSpot onboarding package:</p>
        
        <div class="results-container slide-up" id="results-summary">
          <!-- Dynamically filled with results -->
        </div>
        
        <div class="results-highlight" id="total-price">€0</div>
        
        <div id="scope-details" class="mt-8 mb-4">
          <!-- Package scope details will appear here -->
        </div>
        
        <div class="scarcity-box" style="background-color: #f8fafc; border: 1px solid #e5e7eb; border-radius: 6px; padding: 1rem; margin: 2rem 0; text-align: center;">
          <div style="font-weight: 600; color: var(--primary);">Limited Time Offer</div>
          <p style="margin: 0.5rem 0;">Book a call within the next 48 hours and receive a <strong>free HubSpot technical audit</strong> (valued at €500)</p>
        </div>
        
        <div class="text-center mt-8">
          <p style="margin-bottom: 1rem; font-size: 1.1rem;"><strong>Ready to get started with your onboarding package?</strong></p>
          <a href="https://www.leapforce.nl/contact/" target="_blank" rel="noopener" class="btn" style="padding: 1rem 2rem; font-size: 1.1rem;">Schedule a Call Now</a>
          <div style="margin: 1rem 0; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
            <span style="height: 1px; background-color: #e5e7eb; flex: 1;"></span>
            <span style="color: #6b7280; font-size: 0.9rem;">OR</span>
            <span style="height: 1px; background-color: #e5e7eb; flex: 1;"></span>
          </div>
          <a href="https://www.leapforce.nl/contact/" target="_blank" rel="noopener" class="btn btn-secondary">Contact Us With Questions</a>
          <div style="margin-top: 1.5rem;">
            <button class="btn btn-outline mt-4" onclick="resetCalculator()" style="font-size: 0.9rem; width: auto; max-width: 200px; margin: 0 auto; display: block;">Start Over</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- About HubSpot Hubs Section -->
    <div class="card" id="about">
      <h2 class="section-title">HubSpot Hubs Overview</h2>
      
      <div class="mb-8">
        <h3>Marketing Hub</h3>
        <p>HubSpot's Marketing Hub helps you attract the right audience, convert more visitors into customers, and run complete inbound marketing campaigns at scale.</p>
        
        <div class="tier-card">
          <h4>Starter</h4>
          <p>Basic marketing tools including email marketing, ad management, and forms. Perfect for businesses just starting with inbound marketing.</p>
        </div>
        
        <div class="tier-card">
          <h4>Professional</h4>
          <p>Advanced marketing automation, ABM tools, and custom reporting. Ideal for growing marketing teams with sophisticated strategies.</p>
        </div>
        
        <div class="tier-card">
          <h4>Enterprise</h4>
          <p>Enterprise-grade tools including advanced permissions, partitioning, and custom objects. Built for large teams with complex requirements.</p>
        </div>
      </div>
      
      <div class="mb-8">
        <h3>Sales Hub</h3>
        <p>HubSpot's Sales Hub helps your team close more deals, deepen relationships, and manage their pipeline more effectively.</p>
        
        <div class="tier-card">
          <h4>Starter</h4>
          <p>Essential sales tools including email templates, tracking, and basic deal management. Great for small sales teams.</p>
        </div>
        
        <div class="tier-card">
          <h4>Professional</h4>
          <p>Advanced sales automation, forecasting, and team management. Perfect for growing sales teams with established processes.</p>
        </div>
        
        <div class="tier-card">
          <h4>Enterprise</h4>
          <p>Enterprise features including playbooks, predictive lead scoring, and advanced permissions. Designed for large sales organizations.</p>
        </div>
      </div>
      
      <div>
        <h3>Service Hub</h3>
        <p>HubSpot's Service Hub helps you connect with customers, exceed expectations, and turn customers into promoters.</p>
        
        <div class="tier-card">
          <h4>Starter</h4>
          <p>Essential customer service tools including ticketing, live chat, and conversation inbox. Perfect for small support teams.</p>
        </div>
        
        <div class="tier-card">
          <h4>Professional</h4>
          <p>Advanced features including automation, knowledge base, and customer feedback. Ideal for dedicated service teams.</p>
        </div>
        
        <div class="tier-card">
          <h4>Enterprise</h4>
          <p>Enterprise-grade tools including custom reporting, playbooks, and advanced automation. Built for large service organizations.</p>
        </div>
      </div>
    </div>
    
    <!-- Service Models Section -->
    <div class="card">
      <h2 class="section-title">Our Service Models</h2>
      
      <div class="selection-grid mb-8" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
        <div class="tier-card" style="margin: 0;">
          <h3 style="color: var(--primary);">Do It Yourself</h3>
          <p>We guide you through the process, providing expertise and advice, while you handle the implementation.</p>
          <ul style="list-style-position: inside; margin-top: 1rem;">
            <li>Expert guidance and strategy</li>
            <li>Training on HubSpot tools</li>
            <li>Implementation templates</li>
            <li>Best for teams with technical resources</li>
          </ul>
        </div>
        
        <div class="tier-card" style="margin: 0;">
          <h3 style="color: var(--primary);">Do It With Me</h3>
          <p>A collaborative approach where we work together on implementation, combining your business knowledge with our HubSpot expertise.</p>
          <ul style="list-style-position: inside; margin-top: 1rem;">
            <li>Shared implementation responsibility</li>
            <li>Hands-on training and workshops</li>
            <li>Regular progress reviews</li>
            <li>Best for balanced teamwork</li>
          </ul>
        </div>
        
        <div class="tier-card" style="margin: 0;">
          <h3 style="color: var(--primary);">Do It For Me</h3>
          <p>We handle the entire implementation for you, from setup to optimization, allowing your team to focus on core business activities.</p>
          <ul style="list-style-position: inside; margin-top: 1rem;">
            <li>End-to-end implementation</li>
            <li>Custom configuration and integrations</li>
            <li>Comprehensive documentation</li>
            <li>Best for busy teams needing turnkey solutions</li>
          </ul>
        </div>
      </div>
      
      <div class="text-center">
        <a href="#calculator" class="btn" aria-label="Calculate your HubSpot onboarding package">Calculate Your Package</a>
      </div>
    </div>
    
    <!-- HubSpot Form Popup (hidden by default) -->
    <div id="form-popup" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 9999; justify-content: center; align-items: center;" role="dialog" aria-labelledby="form-popup-title" aria-modal="true">
      <div style="background-color: white; max-width: 600px; width: 90%; border-radius: 8px; padding: 2rem; position: relative; box-shadow: 0 10px 25px rgba(0,0,0,0.2);">
        <button id="close-form-popup" style="position: absolute; top: 10px; right: 10px; background: none; border: none; font-size: 1.5rem; cursor: pointer;" aria-label="Close form">&times;</button>
        <h3 id="form-popup-title" style="color: var(--primary); margin-bottom: 1rem;">Get Your HubSpot Onboarding Package</h3>
        <p style="margin-bottom: 1.5rem;">Complete the form below to receive your personalized HubSpot onboarding package.</p>
        
        <!-- HubSpot Form Container -->
        <div id="hubspot-form-container">
          <div id="form-loading" style="text-align: center; padding: 2rem;">
            <p>Loading form...</p>
            <div style="width: 40px; height: 40px; border: 5px solid #f3f4f6; border-top: 5px solid var(--primary); border-radius: 50%; animation: spin 1s linear infinite; margin: 20px auto;"></div>
          </div>
        </div>
        
        <!-- Hidden Fields -->
        <input type="hidden" id="marketing_hub_tier" name="marketing_hub_tier" value="">
        <input type="hidden" id="sales_hub_tier" name="sales_hub_tier" value="">
        <input type="hidden" id="service_hub_tier" name="service_hub_tier" value="">
        <input type="hidden" id="service_model" name="service_model" value="">
        <input type="hidden" id="hubspot_standard_onboarding_key" name="hubspot_standard_onboarding_key" value="">
      </div>
    </div>
    
    <!-- Reviews Section -->
    <div class="card" id="reviews">
      <h2 class="section-title">What Our Clients Say</h2>
      
      <div class="selection-grid mb-8" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
        <div class="tier-card" style="margin: 0;">
          <div style="color: var(--primary); font-size: 1.5rem; margin-bottom: 0.5rem;" aria-label="Five star rating">★★★★★</div>
          <p style="font-style: italic;">"We worked with Leapforce for our HubSpot implementation, and we're very happy with the results. The process was handled in a highly structured and efficient way."</p>
          <p style="font-weight: 600;">— M. Doornenbal, Churned</p>
        </div>
        
        <div class="tier-card" style="margin: 0;">
          <div style="color: var(--primary); font-size: 1.5rem; margin-bottom: 0.5rem;" aria-label="Five star rating">★★★★★</div>
          <p style="font-style: italic;">"Leapforce led our migration from Pipedrive to HubSpot in a proactive and well-structured way, making the process smooth and painless."</p>
          <p style="font-weight: 600;">— M. Doornenbal</p>
        </div>
        
        <div class="tier-card" style="margin: 0;">
          <div style="color: var(--primary); font-size: 1.5rem; margin-bottom: 0.5rem;" aria-label="Five star rating">★★★★★</div>
          <p style="font-style: italic;">"Thanks to the cooperation with Leapforce, we have been able to really professionalize our sales team. Working with Matthias is a joy—it feels like he is part of our team."</p>
          <p style="font-weight: 600;">— D. Verberne, Sales & Marketing Manager, Rijnmond</p>
        </div>
      </div>
    </div>
    
    <!-- CTA Section -->
    <div class="card" style="background-color: #f8fafc; border: 1px solid #e5e7eb; text-align: center;">
      <h2 class="section-title">Ready to Get Started with HubSpot?</h2>
      <p class="mb-4">With 100+ CRM implementations, 175+ clients, and 75+ certifications, our team of 35+ specialists is ready to support your HubSpot journey.</p>
      <a href="https://www.leapforce.nl/contact/" target="_blank" rel="noopener" class="btn">Contact Us Today</a>
    </div>
  </div>
  
  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-column">
          <h3>About Leapforce</h3>
          <p>A top Dutch agency & one of the fastest-growing companies in the Netherlands, recognized with awards like Gazelle 2022, 2023 & 2024, and Top 250 Scaleups 2023.</p>
          <div style="margin-top: 1rem;">
            <img src="https://www.leapforce.nl/wp-content/uploads/2022/09/LeapForce-logo.svg" alt="Leapforce Logo" style="filter: brightness(0) invert(1); max-width: 150px;" onerror="this.onerror=null; this.src='https://www.leapforce.nl/wp-content/uploads/2022/09/LeapForce-logo.png'; this.style.filter='brightness(0) invert(1)'; this.style.maxWidth='150px';">
          </div>
        </div>
        <div class="footer-column">
          <h3>HubSpot Services</h3>
          <ul>
            <li><a href="https://www.leapforce.nl/expertises/" target="_blank" rel="noopener">View All Our Expertises</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h3>Contact Us</h3>
          <ul>
            <li>Phone: <a href="tel:+31202622333">+31 (0)20 262 2333</a></li>
            <li>Email: <a href="mailto:info@leapforce.nl">info@leapforce.nl</a></li>
            <li>Address: H.J.E. Wenckebachweg 123, 1096 AM Amsterdam, Netherlands</li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 Leapforce. All rights reserved. <a href="https://www.leapforce.nl/privacy-policy/" target="_blank" rel="noopener">Privacy Policy</a></p>
      </div>
    </div>
  </footer>

  <!-- Exit Intent Popup (hidden by default) -->
  <div id="exit-popup" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 9999; justify-content: center; align-items: center;">
    <div style="background-color: white; max-width: 500px; border-radius: 8px; padding: 2rem; position: relative; box-shadow: 0 10px 25px rgba(0,0,0,0.2);">
      <button id="close-popup" style="position: absolute; top: 10px; right: 10px; background: none; border: none; font-size: 1.5rem; cursor: pointer;">&times;</button>
      <h3 style="color: var(--primary); margin-bottom: 1rem;">Ready to Transform Your HubSpot Experience?</h3>
      <p style="margin-bottom: 1.5rem;">With our HubSpot Platinum Solutions Partner status and 100+ successful CRM implementations, we're ready to help you get the most out of your HubSpot investment.</p>
      <div style="display: flex; flex-direction: column; gap: 1rem;">
        <input type="email" id="exit-email" placeholder="Your email address" style="padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 4px;">
        <button id="download-guide" class="btn" style="width: 100%;">Schedule a Consultation</button>
      </div>
      <p style="font-size: 0.8rem; color: #6b7280; margin-top: 1rem; text-align: center;">We respect your privacy and will never share your information.</p>
    </div>
  </div>

  <!-- HubSpot form script -->
  <script charset="utf-8" type="text/javascript" src="https://js.hsforms.net/forms/embed/v2.js"></script>

  <!-- Calculator logic -->
  <script>
    // Dom Elements
    const calculateButton = document.getElementById('calculate-button');
    const hubCheckboxes = document.querySelectorAll('.hub-checkbox');
    const marketingTierSection = document.getElementById('marketing-tier-section');
    const salesTierSection = document.getElementById('sales-tier-section');
    const serviceTierSection = document.getElementById('service-tier-section');
    const formPopup = document.getElementById('form-popup');
    const closeFormPopupButton = document.getElementById('close-form-popup');
    const selectionForm = document.getElementById('selection-form');
    
    // Step navigation elements
    const step1 = document.getElementById('step-1');
    const step2 = document.getElementById('step-2');
    const step3 = document.getElementById('step-3');
    const step4 = document.getElementById('step-4');
    
    const step1Next = document.getElementById('step-1-next');
    const step2Back = document.getElementById('step-2-back');
    const step2Next = document.getElementById('step-2-next');
    const step3Back = document.getElementById('step-3-back');
    
    const stepIndicators = document.querySelectorAll('.step');
    
    // State
    let selectedHubs = [];
    let currentStep = 1;
    let selections = {
      marketing_tier: '',
      sales_tier: '',
      service_tier: '',
      service_model: 'Do It Yourself' // Default
    };
    
    // Verify all images are loading properly
    function verifyImages() {
      const images = document.querySelectorAll('img');
      let loaded = 0;
      const total = images.length;
      
      images.forEach(img => {
        // Check if image is already loaded
        if (img.complete) {
          loaded++;
          if (img.naturalWidth === 0) {
            console.error(`Image failed to load: ${img.src}`);
            handleImageError(img);
          }
        } else {
          // Add load event listener
          img.addEventListener('load', function() {
            loaded++;
          });
          
          // Add error event listener
          img.addEventListener('error', function() {
            console.error(`Image failed to load: ${img.src}`);
            handleImageError(img);
          });
        }
      });
      
      console.log(`Images loaded: ${loaded}/${total}`);
    }
    
    function handleImageError(img) {
      // If it's a logo, try to replace with a fallback
      if (img.alt.includes('Logo')) {
        img.onerror = null; // Prevent infinite loop
        if (img.src.includes('.svg')) {
          // Try png version
          img.src = img.src.replace('.svg', '.png');
        } else {
          // If all fails, hide the image
          img.style.display = 'none';
        }
      }
    }
    
    // Event Listeners
    document.addEventListener('DOMContentLoaded', function() {
      // Verify all images
      verifyImages();
      
      // Hub selection toggles
      hubCheckboxes.forEach(checkbox => {
        checkbox.addEventListener('change', function() {
          const hub = this.value;
          const isChecked = this.checked;
          
          // Track selected hubs
          if (isChecked) {
            selectedHubs.push(hub);
          } else {
            selectedHubs = selectedHubs.filter(h => h !== hub);
            
            // Clear tier selection when hub is unchecked
            if (hub === 'marketing') {
              selections.marketing_tier = '';
              document.querySelectorAll('input[name="marketing_tier"]').forEach(radio => {
                radio.checked = false;
              });
            } else if (hub === 'sales') {
              selections.sales_tier = '';
              document.querySelectorAll('input[name="sales_tier"]').forEach(radio => {
                radio.checked = false;
              });
            } else if (hub === 'service') {
              selections.service_tier = '';
              document.querySelectorAll('input[name="service_tier"]').forEach(radio => {
                radio.checked = false;
              });
            }
          }
          
          // Update visibility of tier sections in step 2
          updateTierSections();
        });
      });
      
      // Tier selection
      document.querySelectorAll('input[name="marketing_tier"]').forEach(radio => {
        radio.addEventListener('change', function() {
          selections.marketing_tier = this.value;
        });
      });
      
      document.querySelectorAll('input[name="sales_tier"]').forEach(radio => {
        radio.addEventListener('change', function() {
          selections.sales_tier = this.value;
        });
      });
      
      document.querySelectorAll('input[name="service_tier"]').forEach(radio => {
        radio.addEventListener('change', function() {
          selections.service_tier = this.value;
        });
      });
      
      // Service model selection
      document.querySelectorAll('input[name="service_model"]').forEach(radio => {
        radio.addEventListener('change', function() {
          selections.service_model = this.value;
        });
      });
      
      // Step navigation
      step1Next.addEventListener('click', function() {
        if (validateStep1()) {
          goToStep(2);
        }
      });
      
      step2Back.addEventListener('click', function() {
        goToStep(1);
      });
      
      step2Next.addEventListener('click', function() {
        if (validateStep2()) {
          goToStep(3);
        }
      });
      
      step3Back.addEventListener('click', function() {
        goToStep(2);
      });
      
      // Calculate button click
      calculateButton.addEventListener('click', function() {
        if (validateStep3()) {
          // Set hidden fields for HubSpot form
          document.getElementById('marketing_hub_tier').value = selections.marketing_tier || '';
          document.getElementById('sales_hub_tier').value = selections.sales_tier || '';
          document.getElementById('service_hub_tier').value = selections.service_tier || '';
          document.getElementById('service_model').value = selections.service_model;
          
          // Generate package keys
          const packageKeys = [];
          
          if (selectedHubs.includes('marketing') && selections.marketing_tier) {
            packageKeys.push(generatePackageKey('marketing', selections.marketing_tier, selections.service_model));
          }
          
          if (selectedHubs.includes('sales') && selections.sales_tier) {
            packageKeys.push(generatePackageKey('sales', selections.sales_tier, selections.service_model));
          }
          
          if (selectedHubs.includes('service') && selections.service_tier) {
            packageKeys.push(generatePackageKey('service', selections.service_tier, selections.service_model));
          }
          
          const packageKeysValue = packageKeys.join(';');
          document.getElementById('hubspot_standard_onboarding_key').value = packageKeysValue;
          
          // Log hidden field values for verification
          console.log('Hidden field values:');
          console.log('Marketing Hub Tier:', selections.marketing_tier || 'Not selected');
          console.log('Sales Hub Tier:', selections.sales_tier || 'Not selected');
          console.log('Service Hub Tier:', selections.service_tier || 'Not selected');
          console.log('Service Model:', selections.service_model);
          console.log('Package Keys:', packageKeysValue);
          
          // Show form popup and calculate results simultaneously
          formPopup.style.display = 'flex';
          createHubSpotForm();
          
          // Calculate and show results immediately
          calculateResults();
          
          // Go to step 4 (results)
          goToStep(4);
        }
      });
      
      // Close form popup
      if (closeFormPopupButton) {
        closeFormPopupButton.addEventListener('click', function() {
          formPopup.style.display = 'none';
        });
      }
      
      // Focus trap for form popup (accessibility)
      if (formPopup) {
        formPopup.addEventListener('click', function(e) {
          // Close popup when clicking outside the form container
          if (e.target === formPopup) {
            formPopup.style.display = 'none';
          }
        });
      }
      
      // Mobile menu toggle
      const mobileMenuButton = document.querySelector('.mobile-menu-button');
      const mobileMenu = document.getElementById('mobile-menu');
      
      if (mobileMenuButton && mobileMenu) {
        mobileMenuButton.addEventListener('click', function() {
          mobileMenu.classList.toggle('active');
        });
      }
      
      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          const href = this.getAttribute('href');
          if (href !== '#') {
            e.preventDefault();
            const target = document.querySelector(href);
            if (target) {
              target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
              });
            }
          }
        });
      });
      
      // Close form popup with Escape key
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && formPopup.style.display === 'flex') {
          formPopup.style.display = 'none';
        }
      });
      
      // Verify all links
      document.querySelectorAll('a[href^="http"]').forEach(link => {
        if (!link.getAttribute('rel')) {
          link.setAttribute('rel', 'noopener');
        }
      });
    });
    
    // Step validation functions
    function validateStep1() {
      if (selectedHubs.length === 0) {
        alert('Please select at least one HubSpot Hub.');
        return false;
      }
      return true;
    }
    
    function validateStep2() {
      let isValid = true;
      let errorMessage = '';
      
      // Check if selected hubs have tier selections
      if (selectedHubs.includes('marketing') && !selections.marketing_tier) {
        isValid = false;
        errorMessage = 'Please select a tier for Marketing Hub.';
      } else if (selectedHubs.includes('sales') && !selections.sales_tier) {
        isValid = false;
        errorMessage = 'Please select a tier for Sales Hub.';
      } else if (selectedHubs.includes('service') && !selections.service_tier) {
        isValid = false;
        errorMessage = 'Please select a tier for Service Hub.';
      }
      
      if (!isValid) {
        alert(errorMessage);
      }
      
      return isValid;
    }
    
    function validateStep3() {
      // Service model is pre-selected with default value, so always valid
      return true;
    }
    
    // Update tier sections visibility
    function updateTierSections() {
      marketingTierSection.style.display = selectedHubs.includes('marketing') ? 'block' : 'none';
      salesTierSection.style.display = selectedHubs.includes('sales') ? 'block' : 'none';
      serviceTierSection.style.display = selectedHubs.includes('service') ? 'block' : 'none';
    }
    
    // Step navigation
    function goToStep(step) {
      // Hide all steps
      const steps = [step1, step2, step3, step4];
      steps.forEach(s => s.classList.remove('active'));
      
      // Show current step
      steps[step - 1].classList.add('active');
      
      // Update step indicators
      stepIndicators.forEach(indicator => {
        const indicatorStep = parseInt(indicator.getAttribute('data-step'));
        indicator.classList.remove('active', 'completed');
        
        if (indicatorStep === step) {
          indicator.classList.add('active');
        } else if (indicatorStep < step) {
          indicator.classList.add('completed');
        }
      });
      
      // Update current step
      currentStep = step;
      
      // Scroll to the calculator section
      document.getElementById('calculator').scrollIntoView({ behavior: 'smooth', block: 'start' });
      
      // If going to step 2, update tier sections visibility
      if (step === 2) {
        updateTierSections();
      }
      
      // Announce step change for accessibility
      const stepAnnouncement = document.createElement('div');
      stepAnnouncement.setAttribute('aria-live', 'polite');
      stepAnnouncement.textContent = `Step ${step} of 4: ${document.querySelector(`.step[data-step="${step}"] .step-text`).textContent}`;
      document.body.appendChild(stepAnnouncement);
      setTimeout(() => document.body.removeChild(stepAnnouncement), 1000);
    }
    
    // Generate package key
    function generatePackageKey(hub, tier, serviceModel) {
      // Lowercase and normalize hub name
      const hubLower = hub.toLowerCase();
      
      // Lowercase and normalize tier name
      const tierLower = tier.toLowerCase();
      
      // Get service model abbreviation
      let serviceAbbr = '';
      switch (serviceModel) {
        case 'Do It Yourself':
          serviceAbbr = 'diy';
          break;
        case 'Do It With Me':
          serviceAbbr = 'diwme';
          break;
        case 'Do It For Me':
          serviceAbbr = 'difme';
          break;
        default:
          serviceAbbr = 'diwme'; // Default to DIWM if unspecified
      }
      
      // Generate key in format from spreadsheet: marketing_hub_starter_diy
      return `${hubLower}_hub_${tierLower}_${serviceAbbr}`;
    }
    
    // Create HubSpot form
    function createHubSpotForm() {
      // Form properties
      const portalId = '7208949';
      const formId = '699d6d6a-52b4-4439-b6ea-2584491b8baa';
      
      try {
        if (window.hbspt) {
          console.log("Creating HubSpot form...");
          
          hbspt.forms.create({
            portalId: portalId,
            formId: formId,
            region: "na1",
            target: "#hubspot-form-container",
            formData: {
              marketing_hub_tier: selections.marketing_tier || '',
              sales_hub_tier: selections.sales_tier || '',
              service_hub_tier: selections.service_tier || '',
              service_model: selections.service_model,
              hubspot_standard_onboarding_key: document.getElementById('hubspot_standard_onboarding_key').value
            },
            onFormReady: function($form) {
              console.log("HubSpot form loaded successfully");
              
              // Hide loading indicator
              document.getElementById('form-loading').style.display = 'none';
              
              // Customize submit button text
              var submitButton = $form.find('.hs-button.primary');
              if (submitButton.length) {
                submitButton.val('Get My Onboarding Package');
              }
              
              // Apply custom styles to form
              const formContainer = document.querySelector('.hs-form-container');
              if (formContainer) {
                formContainer.style.maxWidth = '100%';
              }
            },
            onFormSubmit: function($form) {
              console.log("Form submitted");
              
              // Update hidden fields
              const formData = new FormData($form[0]);
              document.getElementById('hubspot_standard_onboarding_key').value = formData.get('hubspot_standard_onboarding_key') || '';
            },
            onFormSubmitted: function() {
              console.log("Form submission completed");
              
              // Hide form popup
              formPopup.style.display = 'none';
              
              // Show success message
              const successMessage = document.createElement('div');
              successMessage.style.position = 'fixed';
              successMessage.style.bottom = '20px';
              successMessage.style.right = '20px';
              successMessage.style.padding = '15px 20px';
              successMessage.style.backgroundColor = '#10b981'; // Green
              successMessage.style.color = 'white';
              successMessage.style.borderRadius = '4px';
              successMessage.style.zIndex = '1000';
              successMessage.style.boxShadow = '0 4px 6px rgba(0, 0, 0, 0.1)';
              successMessage.innerHTML = '<strong>Success!</strong> Your information has been submitted. We\'ll be in touch shortly.';
              document.body.appendChild(successMessage);
              
              // Remove success message after 5 seconds
              setTimeout(() => {
                document.body.removeChild(successMessage);
              }, 5000);
            }
          });
        } else {
          console.error("HubSpot script not loaded");
          document.getElementById('hubspot-form-container').innerHTML = 
            '<div style="text-align: center; padding: 20px;">' +
            '<p style="color: #ef4444;">We\'re having trouble loading the form.</p>' +
            '<p>Please try contacting us directly:</p>' +
            '<a href="https://www.leapforce.nl/contact/" class="btn" target="_blank">Contact Us</a>' +
            '</div>';
        }
      } catch (error) {
        console.error("Error creating HubSpot form:", error);
        document.getElementById('hubspot-form-container').innerHTML = 
          '<div style="text-align: center; padding: 20px;">' +
          '<p style="color: #ef4444;">We\'re having trouble loading the form.</p>' +
          '<p>Please try contacting us directly:</p>' +
          '<a href="https://www.leapforce.nl/contact/" class="btn" target="_blank">Contact Us</a>' +
          '</div>';
      }
    }

    // Calculate results
    function calculateResults() {
      let totalPrice = 0;
      let totalHours = 0;
      let resultHtml = '';
      let scopeHtml = '';
      
      // Process Marketing Hub
      if (selectedHubs.includes('marketing') && selections.marketing_tier) {
        const price = getHubPrice('marketing', selections.marketing_tier);
        const hours = getHubHours('marketing', selections.marketing_tier);
        totalPrice += price;
        totalHours += hours;
        
        resultHtml += `
          <div class="tier-card" style="margin: 0.75rem 0;">
            <h4>Marketing Hub - ${selections.marketing_tier}</h4>
            <p><strong>€${price}</strong> onboarding</p>
            <p>Estimated implementation time: ${hours} hours</p>
          </div>
        `;
        
        // Add scope details
        const scopeDetail = getScopeDetail('marketing', selections.marketing_tier, selections.service_model);
        if (scopeDetail) {
          scopeHtml += `
            <div class="tier-card" style="margin: 1rem 0;">
              <h4>Marketing Hub ${selections.marketing_tier} - ${getServiceModelFullName(selections.service_model)}</h4>
              <p><strong>Hours:</strong> ${hours}</p>
              <p><strong>Scope:</strong> ${scopeDetail}</p>
            </div>
          `;
        }
      }
      
      // Process Sales Hub
      if (selectedHubs.includes('sales') && selections.sales_tier) {
        const price = getHubPrice('sales', selections.sales_tier);
        const hours = getHubHours('sales', selections.sales_tier);
        totalPrice += price;
        totalHours += hours;
        
        resultHtml += `
          <div class="tier-card" style="margin: 0.75rem 0;">
            <h4>Sales Hub - ${selections.sales_tier}</h4>
            <p><strong>€${price}</strong> onboarding</p>
            <p>Estimated implementation time: ${hours} hours</p>
          </div>
        `;
        
        // Add scope details
        const scopeDetail = getScopeDetail('sales', selections.sales_tier, selections.service_model);
        if (scopeDetail) {
          scopeHtml += `
            <div class="tier-card" style="margin: 1rem 0;">
              <h4>Sales Hub ${selections.sales_tier} - ${getServiceModelFullName(selections.service_model)}</h4>
              <p><strong>Hours:</strong> ${hours}</p>
              <p><strong>Scope:</strong> ${scopeDetail}</p>
            </div>
          `;
        }
      }
      
      // Process Service Hub
      if (selectedHubs.includes('service') && selections.service_tier) {
        const price = getHubPrice('service', selections.service_tier);
        const hours = getHubHours('service', selections.service_tier);
        totalPrice += price;
        totalHours += hours;
        
        resultHtml += `
          <div class="tier-card" style="margin: 0.75rem 0;">
            <h4>Service Hub - ${selections.service_tier}</h4>
            <p><strong>€${price}</strong> onboarding</p>
            <p>Estimated implementation time: ${hours} hours</p>
          </div>
        `;
        
        // Add scope details
        const scopeDetail = getScopeDetail('service', selections.service_tier, selections.service_model);
        if (scopeDetail) {
          scopeHtml += `
            <div class="tier-card" style="margin: 1rem 0;">
              <h4>Service Hub ${selections.service_tier} - ${getServiceModelFullName(selections.service_model)}</h4>
              <p><strong>Hours:</strong> ${hours}</p>
              <p><strong>Scope:</strong> ${scopeDetail}</p>
            </div>
          `;
        }
      }
      
      // Apply service model multiplier
      const multiplier = getServiceModelMultiplier(selections.service_model);
      totalPrice = Math.round(totalPrice * multiplier);
      
      // Build the results
      const resultSummary = document.getElementById('results-summary');
      if (resultSummary) {
        resultSummary.innerHTML = `
          <p class="mb-4"><strong>Selected Hubs:</strong> ${selectedHubs.map(h => h.charAt(0).toUpperCase() + h.slice(1) + ' Hub').join(', ')}</p>
          <p class="mb-4"><strong>Service Model:</strong> ${getServiceModelFullName(selections.service_model)}</p>
          ${resultHtml}
          <div style="margin-top: 1.5rem;">
            <p><strong>Estimated Implementation Time:</strong> ${totalHours} hours</p>
          </div>
        `;
      }
      
      // Add scope details
      const scopeDetails = document.getElementById('scope-details');
      if (scopeDetails && scopeHtml) {
        scopeDetails.innerHTML = `
          <h4>Package Scope Details</h4>
          ${scopeHtml}
        `;
      }
      
      // Update total price display
      const totalPriceElement = document.getElementById('total-price');
      if (totalPriceElement) {
        totalPriceElement.textContent = `€${totalPrice}`;
      }
    }
    
    // Reset calculator
    function resetCalculator() {
      // Confirm before resetting if on results page
      if (currentStep === 4) {
        if (!confirm("Are you sure you want to start over? Your current package configuration will be lost.")) {
          return;
        }
      }
      
      // Reset selections
      selectedHubs = [];
      selections = {
        marketing_tier: '',
        sales_tier: '',
        service_tier: '',
        service_model: 'Do It Yourself'
      };
      
      // Reset checkboxes and radio buttons
      document.querySelectorAll('.hub-checkbox').forEach(checkbox => {
        checkbox.checked = false;
      });
      
      document.querySelectorAll('.tier-radio').forEach(radio => {
        radio.checked = false;
      });
      
      // Reset service model
      document.getElementById('service-diy').checked = true;
      
      // Hide tier sections
      marketingTierSection.style.display = 'none';
      salesTierSection.style.display = 'none';
      serviceTierSection.style.display = 'none';
      
      // Go back to step 1
      goToStep(1);
      
      // Scroll to calculator
      document.getElementById('calculator').scrollIntoView({ behavior: 'smooth' });
      
      // Provide visual feedback
      const feedbackMessage = document.createElement('div');
      feedbackMessage.style.position = 'fixed';
      feedbackMessage.style.bottom = '20px';
      feedbackMessage.style.right = '20px';
      feedbackMessage.style.padding = '10px 15px';
      feedbackMessage.style.backgroundColor = 'rgba(0, 122, 140, 0.9)';
      feedbackMessage.style.color = 'white';
      feedbackMessage.style.borderRadius = '4px';
      feedbackMessage.style.zIndex = '1000';
      feedbackMessage.textContent = 'Calculator reset successfully';
      document.body.appendChild(feedbackMessage);
      
      // Remove feedback message after 3 seconds
      setTimeout(() => {
        document.body.removeChild(feedbackMessage);
      }, 3000);
    }
    
    // Get price for a hub and tier
    function getHubPrice(hub, tier) {
      const prices = {
        marketing: { starter: 499, professional: 999, enterprise: 1999 },
        sales: { starter: 499, professional: 999, enterprise: 1999 },
        service: { starter: 499, professional: 999, enterprise: 1999 }
      };
      
      return prices[hub] && prices[hub][tier.toLowerCase()] ? prices[hub][tier.toLowerCase()] : 0;
    }
    
    // Get estimated hours for a hub and tier
    function getHubHours(hub, tier) {
      const hours = {
        marketing: { starter: 10, professional: 20, enterprise: 40 },
        sales: { starter: 8, professional: 16, enterprise: 32 },
        service: { starter: 8, professional: 16, enterprise: 32 }
      };
      
      return hours[hub] && hours[hub][tier.toLowerCase()] ? hours[hub][tier.toLowerCase()] : 0;
    }
    
    // Get multiplier based on service model
    function getServiceModelMultiplier(model) {
      const multipliers = {
        'Do It Yourself': 0.8,
        'Do It With Me': 1.0,
        'Do It For Me': 1.2
      };
      
      return multipliers[model] || 1.0;
    }
    
    // Get full service model name
    function getServiceModelFullName(model) {
      const names = {
        'Do It Yourself': 'Do It Yourself (DIY)',
        'Do It With Me': 'Do It With Me (DIWM)',
        'Do It For Me': 'Do It For Me (DIFM)'
      };
      
      return names[model] || model;
    }
    
    // Get scope detail based on hub, tier, and service model
    function getScopeDetail(hub, tier, serviceModel) {
      const tierLower = tier.toLowerCase();
      const scopes = {
        marketing: {
          starter: {
            'Do It Yourself': 'We guide you on basic portal "getting started" steps—tracking code, one lead-capture form, one email template—but you implement them. Includes 2 coaching sessions for Q&A and best practices.',
            'Do It With Me': 'We collaborate on the same setup tasks, sharing responsibilities for 2 simple submissions and 1 email template. We handle some tasks, you handle others. Includes 3 coaching sessions.',
            'Do It For Me': 'We fully implement the starter portal setup (code installation, up to 3 forms, basic reporting, 2 simple automations). Includes 3 coaching sessions and 1 team training.'
          },
          professional: {
            'Do It Yourself': 'We teach you how to configure more advanced marketing features—e.g. 2 automations (workflows), lead scoring basics, custom dashboards—and you carry them out. Includes 3 coaching sessions.',
            'Do It With Me': 'A joint effort setting up advanced features (3 automations, lead scoring, campaign setup, custom dashboards). We do part of the technical work while guiding you on the rest. Includes 1 team training + 4 coaching sessions.',
            'Do It For Me': 'A full-service build-out of Pro features—3 automations, lead scoring, more sophisticated campaign setup, custom reporting, etc. We do nearly everything. Includes 1 team training + 5 coaching sessions.'
          },
          enterprise: {
            'Do It Yourself': 'Guidance on enterprise-level marketing features setup with your team handling implementation.',
            'Do It With Me': 'Collaborative approach for advanced marketing features with shared responsibility.',
            'Do It For Me': 'Complete implementation of enterprise marketing features by our team.'
          }
        },
        sales: {
          starter: {
            'Do It Yourself': 'We help you configure basic sales tools—basic CRM setup, email templates, simple sequences. You handle the key implementation. Includes 1 team training + 2 coaching sessions.',
            'Do It With Me': 'We work together on pipeline setup, deal stage workflow, meeting link, basic automation. We do some config, you do the rest. Includes 1 team training + 3 coaching sessions.',
            'Do It For Me': 'We handle the key Sales Starter implementation—basic deal setup, meeting management, basic automation—while you provide requirements. Includes 1 team training + 3 coaching sessions.'
          },
          professional: {
            'Do It Yourself': 'We guide you on multiple deal stage workflows, advanced deal card customization, and basic sales reporting dashboards. You do setup steps. Includes 3 coaching sessions.',
            'Do It With Me': 'A collaborative Pro-level build: advanced quotes, sequences/workflows, meeting link setup, custom deal properties. We share the tasks. Includes 1 team training + 4 coaching sessions.',
            'Do It For Me': 'We fully implement advanced pipelines, automation/sequences, custom sales reporting, quotes setup. Minimal effort needed on your end. Includes 1 team training + 5 coaching sessions.'
          },
          enterprise: {
            'Do It Yourself': 'Guidance on enterprise-level sales features setup with your team handling implementation.',
            'Do It With Me': 'Collaborative implementation of advanced sales tools with shared responsibilities.',
            'Do It For Me': 'Complete implementation of enterprise sales features by our team.'
          }
        },
        service: {
          starter: {
            'Do It Yourself': 'We instruct you on setting up your first ticket pipeline, basic routing rules, and simple email/snippet usage. You do the hands-on HubSpot configuration. Includes 2 coaching sessions.',
            'Do It With Me': 'We help you set up your Service Hub together—shared knowledge base structure, ticket forms, basic automations. Joint implementation approach. Includes 1 team training + 3 coaching sessions.',
            'Do It For Me': 'We take care of the full basic service setup: pipeline(s), routing, knowledge base structure, chatflows. You provide requirements. Includes 1 team training + 3 coaching sessions.'
          },
          professional: {
            'Do It Yourself': 'We coach you through advanced service features implementation—multiple ticket pipelines, custom ticket properties, knowledge base setup. You handle configuration. Includes 2 coaching sessions.',
            'Do It With Me': 'We collaborate on advanced workflows (SLAs, routing), knowledge base organization, service feedback surveys or chatbots. Some setup is on us, some on you. Includes 1 team training + 3 coaching sessions.',
            'Do It For Me': 'We fully implement your Professional-level service environment: pipelines, automations, reporting dashboards, knowledge base structure, etc. Includes 2 team trainings + 4 coaching sessions.'
          },
          enterprise: {
            'Do It Yourself': 'Guidance on enterprise-level service features setup with your team handling implementation.',
            'Do It With Me': 'Collaborative implementation of advanced service tools with shared responsibilities.',
            'Do It For Me': 'Complete implementation of enterprise service features by our team.'
          }
        }
      };
      
      return scopes[hub] && scopes[hub][tierLower] && scopes[hub][tierLower][serviceModel] 
        ? scopes[hub][tierLower][serviceModel] 
        : 'Custom implementation based on your specific requirements.';
    }
    
    // Add animation keyframes
    document.head.insertAdjacentHTML('beforeend', `
      <style>
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        
        /* Apply styles to selection cards */
        .selection-card {
          border: 1px solid #e5e7eb;
          border-radius: 0.5rem;
          padding: 1.5rem;
          position: relative;
          cursor: pointer;
          transition: all 0.2s;
          background-color: white;
        }
        
        .selection-card:hover {
          border-color: var(--primary);
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .selection-card input[type="checkbox"],
        .selection-card input[type="radio"] {
          position: absolute;
          opacity: 0;
        }
        
        .selection-card input:checked + label {
          color: var(--primary);
        }
        
        .selection-card input:checked + label::before {
          content: '';
          position: absolute;
          top: 0;
          right: 0;
          bottom: 0;
          left: 0;
          border: 2px solid var(--primary);
          border-radius: 0.5rem;
          pointer-events: none;
        }
        
        .selection-label {
          display: block;
          cursor: pointer;
        }
        
        .selection-label h4 {
          margin-bottom: 0.5rem;
        }
      </style>
    `);
  </script>
</body>
</html>